<html>
	<head>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body {
				display: grid;
				place-items: center;
			}

			.trafficLight {
				width: 30rem;
				height: 75rem;
				border-radius: 4rem;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				background-color: black;
				padding: 1rem;
				gap: 1rem;
			}

			.trafficlight * {
				border-radius: 50%;

				min-width: 20rem;
				min-height: 20rem;

				&:nth-child(1) {
					background-color: red;
				}
				&:nth-child(2) {
					background-color: yellow;
				}
				&:nth-child(3) {
					background-color: rgb(0, 255, 0);
				}

				&.off {
					background-color: gray;
				}
			}
		</style>
	</head>
	<body>
		<div class="trafficLight">
			<div id="light1"></div>
			<div id="light2"></div>
			<div id="light3"></div>
		</div>

		<script>
			const light1 = document.getElementById("light1");
			const light2 = document.getElementById("light2");
			const light3 = document.getElementById("light3");
			console.log(light1, light2, light3);
			const states = {
				0: ["on", "off", "off"],
				1: ["on", "on", "off"],
				2: ["off", "off", "on"],
				3: ["off", "on", "off"],
			};

			let currentState = 0;

			function updateLights(state) {
				const [light1State, light2State, light3State] =
					states[currentState];
				console.log(
					state,
					states[state],
					light1State,
					light2State,
					light3State,
				);

				if (light1State == "off") light1.classList.add("off");
				else light1.classList.remove("off");

				if (light2State == "off") light2.classList.add("off");
				else light2.classList.remove("off");

				if (light3State == "off") light3.classList.add("off");
				else light3.classList.remove("off");
			}

			document.addEventListener("click", e => {
				currentState = (currentState += 1) % 4;
				updateLights(currentState);
			});

			window.onload = () => {
				updateLights(currentState);
			};
		</script>
	</body>
</html>
